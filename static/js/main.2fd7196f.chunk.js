(this["webpackJsonplittle-synth"]=this["webpackJsonplittle-synth"]||[]).push([[0],{14:function(e,n,t){e.exports=t(25)},19:function(e,n,t){},20:function(e,n,t){},25:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),o=t(8),c=t.n(o),u=(t(19),t(20),t(6)),i=["C","D","E","F","G","A","B"],l=[null,"C#","D#",null,"F#","G#","A#"],s=Object(r.createContext)({}),v=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,t=function(){switch(e.toLowerCase()){case"a":return i[0];case"s":return i[1];case"d":return i[2];case"f":return i[3];case"g":return i[4];case"h":return i[5];case"j":return i[6];case"w":return l[1];case"e":return l[2];case"t":return l[4];case"y":return l[5];case"u":return l[6];default:return null}},r=t();return null===r?null:r+n},d=t(1),f=t(2);function m(){var e=Object(d.a)(["\n  display: inline-block;\n  width: ","px;\n  \n  height: ","px;\n  border: "," 1px solid;\n  background-color: #000;\n  color: #000;\n  margin: 1px;\n  transition: background-color .2s, border-color .2s;\n\n&.active {\n  background-color: ",";\n  border-color: #FFF;\n}\n"]);return m=function(){return e},e}function k(){var e=Object(d.a)(["\n  width: ","px;\n  height: 60px;\n  background: transparent;\n  display: inline-block;\n  margin: 1px;\n"]);return k=function(){return e},e}function p(){var e=Object(d.a)(["\n  position: absolute;\n  display: inline-block;\n  left: -","px;\n  top: 0;\n"]);return p=function(){return e},e}function b(){var e=Object(d.a)(["\n  position: relative;\n  display: inline-block;\n"]);return b=function(){return e},e}function h(){var e=Object(d.a)(["\n  position: relative;\n  display: inline-block;\n"]);return h=function(){return e},e}var w=f.a.div(h()),g=f.a.div(b()),y=f.a.div(p(),30),E=f.a.div(k(),60),x=f.a.div(m(),60,(function(e){return e.black?144:240}),(function(e){return e.black?"#B83373":"#A46912"}),(function(e){return e.black?"#B83373":"#A46912"})),j=function(e){var n=e.note,t=e.black,o=void 0!==t&&t,c=Object(r.useContext)(s),u=c.activeNote,i=c.onAttack,l=c.onRelease,v=c.mouseDown,d=c.setMouseDown;console.log(d);return a.a.createElement(x,{black:o,className:u===n?"active":"",onMouseDown:function(){d(!0),i(n)},onMouseEnter:function(){console.log("enter"),null!==u&&v&&i(n)},onMouseUp:function(){d(!1),l()}})},O=function(e){var n=e.octave,t=e.keyboardShortcuts;return function(e,n){var t=Object(r.useContext)(s),a=t.onAttack,o=t.onRelease,c=t.activeNote,u=t.mouseDown;Object(r.useEffect)((function(){var t=function(n){var t=n.key,r=v(t,e);r&&r!==c&&!u&&a(r)},r=function(n){var t=n.key,r=v(t,e);c===r&&o()};return n&&(document.addEventListener("keydown",t),document.addEventListener("keyup",r)),function(){n&&(document.removeEventListener("keydown",t),document.removeEventListener("keyup",r))}}),[c,n,a,o,e])}(n,void 0!==t&&t),a.a.createElement(w,null,a.a.createElement(g,null,i.map((function(e){return a.a.createElement(j,{key:e+n,note:e+n})}))),a.a.createElement(y,null,l.map((function(e,t){return null===e?a.a.createElement(E,{key:"skip-".concat(t,"-").concat(n)}):a.a.createElement(j,{key:e+n,note:e+n,black:!0})}))))},A=function(e){var n=e.synth,t=a.a.useState(null),r=Object(u.a)(t,2),o=r[0],c=r[1],i=a.a.useState(!1),l=Object(u.a)(i,2),v=l[0],d=l[1];return a.a.createElement(s.Provider,{value:{setMouseDown:d,mouseDown:v,activeNote:o,onAttack:function(e){c(e),n.triggerAttack(e)},onRelease:function(){n.triggerRelease(),c(null),d(!1)},synth:n}},a.a.createElement(w,null,a.a.createElement(O,{octave:3,keyboardShortcuts:!0}),a.a.createElement(O,{octave:4})))},D=t(3),B=t.n(D),C=t(12),F=t.n(C),S=function(e,n){return function(t){t.setup=function(){t.createCanvas(n,400),t.noFill(),t.background(0)},t.draw=function(){t.background(0,0,0,100);var r=e.getValue();t.stroke("#B83373"),t.strokeWeight(2),t.beginShape();for(var a=0;a<r.length;a++){var o=t.map(a,0,r.length,0,n),c=t.map(r[a],-1,1,-400/1.1,400/1.1);t.vertex(o,c+200)}t.endShape()}}},M=function(e){var n=e.waveform,t=window.innerWidth;return a.a.createElement("div",{style:{marginBottom:-400/2.1,marginTop:-400/1.8}},a.a.createElement(F.a,{sketch:S(n,t)}))},L=new B.a.Waveform,N=(new B.a.Phaser({frequency:15,octaves:2,baseFrequency:1e3}).chain(L,B.a.Master),new B.a.Synth({oscillator:{type:"sawtooth"}}).connect(L));var W=function(){return a.a.createElement("div",{className:"App"},a.a.createElement(M,{waveform:L}),a.a.createElement(A,{synth:N,octave:"4"}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(a.a.createElement(W,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[14,1,2]]]);
//# sourceMappingURL=main.2fd7196f.chunk.js.map